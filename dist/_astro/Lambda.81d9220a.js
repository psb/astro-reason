import{v as a,a as $,_ as g,b as P,f as E,s as T,$ as _}from"./Json_decode.18abf1eb.js";import{r as n}from"./index.ed373d49.js";function q(e){if(typeof e!="number")return e._0;switch(e){case 0:return"GET";case 1:return"HEAD";case 2:return"POST";case 3:return"PUT";case 4:return"DELETE";case 5:return"CONNECT";case 6:return"OPTIONS";case 7:return"TRACE";case 8:return"PATCH"}}function C(e){switch(e){case 0:return"";case 1:return"no-referrer";case 2:return"no-referrer-when-downgrade";case 3:return"same-origin";case 4:return"origin";case 5:return"strict-origin";case 6:return"origin-when-cross-origin";case 7:return"strict-origin-when-cross-origin";case 8:return"unsafe-url"}}function I(e){switch(e){case 0:return"navigate";case 1:return"same-origin";case 2:return"no-cors";case 3:return"cors"}}function F(e){switch(e){case 0:return"omit";case 1:return"same-origin";case 2:return"include"}}function O(e){switch(e){case 0:return"default";case 1:return"no-store";case 2:return"reload";case 3:return"no-cache";case 4:return"force-cache";case 5:return"only-if-cached"}}function A(e){switch(e){case 0:return"follow";case 1:return"error";case 2:return"manual"}}function m(e,i){if(i!==void 0)return $(g(e,a(i)))}function H(e,i,d,c,h,v){var p=h!==void 0?h:0;return function(b,t,o,f,l){var u=f!==void 0?f:"";return function(s){var k=u,w=m(A,o),y=m(O,t),N=m(F,b),j=m(I,v),x=C(p),R=m(q,e);return function(G){var r={};return R!==void 0&&(r.method=a(R)),i!==void 0&&(r.headers=a(i)),d!==void 0&&(r.body=a(d)),c!==void 0&&(r.referrer=a(c)),x!==void 0&&(r.referrerPolicy=a(x)),j!==void 0&&(r.mode=a(j)),N!==void 0&&(r.credentials=a(N)),y!==void 0&&(r.cache=a(y)),w!==void 0&&(r.redirect=a(w)),k!==void 0&&(r.integrity=a(k)),l!==void 0&&(r.keepalive=a(l)),s!==void 0&&(r.signal=a(s)),r}}}}var M={make:H};function S(e){return{joke:E("joke",T,e),status:E("status",_,e),count:E("count",_,e)}}function D(e){var i=n.useReducer(function(t,o){return o?{data:o._0,loading:!1}:{data:t.data,loading:!0}},{data:{joke:"My dog used to chase people on a bike a lot. It got so bad I had to take his bike away.",status:200,count:0},loading:!1}),d=i[1],c=i[0],h=function(t){return n.createElement("img",{className:"mx-auto",alt:"laugh",src:"/laugh.svg",width:"200"})},v=function(t){return n.createElement("img",{className:"mx-auto",alt:"error dog",src:"/500.jpg"})},p=function(t){var o=t.count;return n.createElement(n.Fragment,void 0,n.createElement("p",{className:"p-6 mb-2 rounded-lg text-lg bg-yellow-400"},t.joke),n.createElement("p",{className:"p-2 mb-2 rounded-md bg-orange-300"},"You have requested "+o+" jokes."))},b=function(t){return n.createElement("div",{className:"flex justify-around"},n.createElement("a",{className:"rounded-md p-4 mt-2 bg-slate-400 text-white hover:bg-slate-500",href:"/"},"Home"),n.createElement("button",{className:"rounded-md p-4 mt-2 bg-blue-500 text-white hover:bg-blue-600",onClick:function(o){g(d,0);var f=function(u){g(d,{_0:u})},l={};l.count=t,fetch(".netlify/functions/joke",P(M.make(2,{"Content-Type":"application/json"},$(JSON.stringify(l)),void 0,void 0,void 0)(void 0,void 0,void 0,void 0,void 0),void 0,void 0)).then(function(u){return u.json()}).then(function(u){var s=S(u);return g(f,s),Promise.resolve(void 0)}).catch(function(u){var s={joke:"",status:0,count:t};return console.log("Error",u),g(f,s),Promise.resolve(void 0)})}},"Get another joke"))};return n.createElement("div",{className:"container mx-auto max-w-md text-center p-4"},c.loading?h():n.createElement(n.Fragment,void 0,c.data.status!==200?v():p(c.data),b(c.data.count)))}var U=D;export{U as make};
